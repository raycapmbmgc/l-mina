<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Escolha seu Personagem</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Escolha seu Personagem</h1>
    <button id="mute-btn">游댉 Som Ligado</button>
    <div id="selecionar">
        <div class="personagem-container">
            <img src="assets/personagem1.png" id="p1" class="personagem" onclick="selecionar('p1')">
            <div class="personagem-nome">NICK</div>
        </div>
        <div class="personagem-container">
            <img src="assets/personagem2.png" id="p2" class="personagem" onclick="selecionar('p2')">
            <div class="personagem-nome">LEO</div>
        </div>
    </div>
    <button onclick="iniciarJogo()">Iniciar Jogo</button>

    <script>
        let personagemSelecionado = "";

        // Fun칞칚o para selecionar personagem
        function selecionar(personagem) {
            // Remove a sele칞칚o de todos os personagens
            document.querySelectorAll(".personagem").forEach(p => p.classList.remove("selecionado"));
            
            // Adiciona a sele칞칚o ao personagem clicado
            document.getElementById(personagem).classList.add("selecionado");
            personagemSelecionado = personagem;
        }

        // Fun칞칚o para iniciar o jogo
        function iniciarJogo() {
            if (personagemSelecionado) {
                localStorage.setItem("personagem", personagemSelecionado);
                window.location.href = "/game";
            } else {
                alert("Escolha um personagem!");
            }
        }

        // Captura o bot칚o de mute
        const muteBtn = document.getElementById("mute-btn");

        // Criar um elemento de 치udio para a m칰sica de fundo
        const musica = new Audio("assets/musica.mp3");
        musica.loop = true; // Repetir a m칰sica
        musica.volume = 0.5; // Ajuste de volume

        // Flag para verificar se a m칰sica j치 foi iniciada
        let musicaIniciada = false;

        // Fun칞칚o para iniciar a m칰sica
        function iniciarMusica() {
            if (!musicaIniciada) {
                musica.play().catch(error => console.log("Erro ao iniciar 치udio:", error));
                musicaIniciada = true;
                console.log("M칰sica iniciada.");
            }
        }

        // Chama a fun칞칚o de iniciar m칰sica quando a p치gina carregar
        window.addEventListener("load", () => {
            iniciarMusica();
        });

        // Adiciona o evento de clique para alternar mute
        muteBtn.addEventListener("click", () => {
            if (musica.muted) {
                musica.muted = false;
                muteBtn.textContent = "游댉 Som Ligado";
            } else {
                musica.muted = true;
                muteBtn.textContent = "游댆 Som Desligado";
            }
        });
    </script>
</body>
</html>
